<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="apple-mobile-web-app-status-bar-style" content="#000" />
	<meta name="description" content="Technical festival of Adi Shankara Institute of Engineering and Technology, Kalady." />
	<meta name="msapplication-square310x310logo" content="/assets/image/iconfull.png" />
	<meta name="theme-color" content="#212121" />
	<link rel="icon" sizes="192x192" href="/assets/image/icon192.png" />
	<link rel="icon" sizes="512x512" href="/assets/image/icon512.png" />
	<link rel="apple-touch-startup-image" href="/assets/image/iconfull.png" />
	<link rel="apple-touch-icon" href="/assets/image/icon192.png" />
	<link rel="manifest" href="/manifest.json" />
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/home.css">
    <title>Aswhamedha'19</title>
</head>

<body>
    <header>
        <h1 class="anim animOpacity h2">Ashwamedha'19</h1>
    </header>
    <section id="date">
        <p class="anim animSideSlide h2 lightColor">
            <span>5</span>
            <span> </span>
            <span>&</span>
            <span> </span>
            <span>6</span>
            <span> </span>
            <span>N</span>
            <span>O</span>
            <span>V</span>
        </p>
    </section>
    <section id="rise" class="h1">
        <p><span>T</span><span>H</span><span>E</span></p>
        <p><span>S</span><span>T</span><span>A</span><span>L</span><span>L</span><span>I</span><span>O</span><span>N</span></p>
        <p><span>R</span><span>I</span><span>S</span><span>E</span><span>S</span></p>
        <div id="adi" class="anim h3 lightColor">
            <a>Adi Shankara Institute of Engineering and Technology</a>
        </div>
    </section>
    <section id="count">
        <div class="countItem anim animOpacity h2">
            <p class="countNo">2</p>
            <p class="countParam">Days</p>
            <div class="line"></div>
        </div>
        <div class="countItem anim animOpacity h2">
            <p id="eventsCount" class="countNo"></p>
            <p class="countParam">Events</p>
            <div class="line"></div>
        </div>
    </section>
    <section id="stunt">
        <div>
            <p class="h2">BMX Bicycle Stunt</p>
            <p class="h3">Are you prepared to be amazed?</p>
            <p id="stuntDate">Nov 5</p>
        </div>
    </section>
    <section id="eventsTitle">
        <p class="anim animSideSlide h2 lightColor">
            <span>E</span>
            <span>V</span>
            <span>E</span>
            <span>N</span>
            <span>T</span>
            <span>S</span>
        </p>
    </section>
    <section id="eventsList"></section>
    <footer>
        <div id="aboutASIET">
            <h5 class="h3 anim animOpacity">About ASIET</h5>
            <p class="anim animOpacity">Adi Shankara Institute of Engineering and Technology (ASIET) was established in 2001 at Kalady, near Cochin International Airport, in a campus of serene atmosphere which is effervescent with the ever-inspiring memories of Jagadgguru Adi Shankara. It is an institution with the aim of providing value added technical education of flair of professional excellence and ethical values under the Sringeri Mutt and systematically run by ADI SHANKARA TRUST with the blessings in abundance from Sree Sree Bharathitheertha Maha swamikal. ADI SHANKARA TRUST is a registered trust which has created a unique identity in the field of education by running Sree Sankara College, Sree Saradha Vidyalaya, Adi Shankara Training College, Sree Saraddha Special College, DDU Kaushal Kendra all at Kalady. The institution is lead by Sri. K Anand, Managing Trustee, with a proactive approach for the overall development of the institution. Under the direct supervision of the principal, Prof. Asha Panicker, an academician par excellence, a team of highly qualified faculty, works hard for the betterment of students in totality. Most of the programs provided have been accredited by NBA. ASIET also administrates programs like B.Tech Honours, PG and PhD. Affiliated to APJ Abdul Kalam Technological University Kerala and approved by the AICTE, ASIET is the first self-financing technical education center to be awarded with the ISO 9001:2008 certification.</p>
            <div id="map">
                <div class="mapouter">
                    <div class="gmap_canvas"><iframe style="width:100%;height:60vh;" id="gmap_canvas" src="https://maps.google.com/maps?q=adi%20shankara%20institute%20of%20engineering%20and%20technology&t=&z=15&ie=UTF8&iwloc=&output=embed" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe></div>
                    <style>
                        .mapouter {
                            position: relative;
                            text-align: right;
                            height: 60vh;
                            width: 100%;
                        }

                        .gmap_canvas {
                            overflow: hidden;
                            background: none !important;
                            height: 60vh;
                            width: 100%;
                        }
                    </style>
                </div>
            </div>
        </div>
        <div id="dev">
            <p>Developed by <b>Tinker</b>Hub ASIET Kalady</p>
        </div>
    </footer>
    <div id="eventDetails">
        <p id="close">Close</p>
        <h3 id="eTitle" class="h2"></h3>
        <p id="eSub"></p>
        <p id="eDesc"></p>
        <a href="https://www.yepdesk.com/buy-tickets/5db04f6ae4b0306426d58832" id="buyTickets" target="_blank"><button class="h3">Buy Tickets</button></a>
        <p id="eTimeVenue"></p>
        <p id="ePrice"></p>
        <div id="ePrizes">
        </div>
        <p id="eCoord">Coordinators</p>
        <div id="eCoords"></div>
        <p id="eRulesHead">Rules</p>
        <div id="eRules">
            <ol></ol>
        </div>
    </div>
    <script>
        let eventsList = {}

        let animate = () => {
            document.querySelectorAll('.anim').forEach(e => {
                if ((e.offsetTop - window.innerHeight / 1.2) < (window.scrollY || window.pageYOffset)) {
                    e.classList.add('animate')
                }
            })
        }

        let reveal = (e) => {
            e = e.target.innerText
            e = eventsList.events.filter(a => {
                return (a.name === e)
            })
            e = e[0]
            document.getElementById('eTitle').innerText = e.hasOwnProperty('name') ? e.name : ''
            document.getElementById('eSub').innerText = e.hasOwnProperty('sub') ? e.sub : ''
            document.getElementById('eDesc').innerText = e.hasOwnProperty('desc') ? e.desc : ''
            if (e.hasOwnProperty('day') && e.hasOwnProperty('time') & e.hasOwnProperty('venue'))
                document.getElementById('eTimeVenue').innerHTML = e.day + '<br>' + e.time + '<br>' + e.venue
            if (e.hasOwnProperty('price'))
                document.getElementById('ePrice').innerText = e.price
            document.getElementById('ePrizes').innerHTML = ''
            if (e.hasOwnProperty('first')) {
                let first = document.createElement('div')
                first.classList.add('prize')
                let amt = document.createElement('p')
                amt.innerText = e.first
                let prizetitle = document.createElement('p')
                prizetitle.innerText = 'First Prize'
                first.append(amt)
                first.append(prizetitle)
                document.getElementById('ePrizes').append(first)
            }
            if (e.hasOwnProperty('second')) {
                let second = document.createElement('div')
                second.classList.add('prize')
                let amt = document.createElement('p')
                amt.innerText = e.second
                let prizetitle = document.createElement('p')
                prizetitle.innerText = 'Second Prize'
                second.append(amt)
                second.append(prizetitle)
                document.getElementById('ePrizes').append(second)
            }
            if (e.hasOwnProperty('third')) {
                let third = document.createElement('div')
                third.classList.add('prize')
                let amt = document.createElement('p')
                amt.innerText = e.second
                let prizetitle = document.createElement('p')
                prizetitle.innerText = 'Third Prize'
                third.append(amt)
                third.append(prizetitle)
                document.getElementById('ePrizes').append(third)
            }
            if (e.hasOwnProperty('prize')) {
                let prize = document.createElement('div')
                prize.classList.add('prize')
                let amt = document.createElement('p')
                amt.innerText = e.second
                let prizetitle = document.createElement('p')
                prizetitle.innerText = 'Worth Prizes'
                prize.append(amt)
                prize.append(prizetitle)
                document.getElementById('ePrizes').append(prize)
            }
            document.getElementById('eCoords').innerHTML = ''
            if (e.hasOwnProperty('students')) {
                document.getElementById('eCoord').innerText = 'Coordinators'
                e.students.forEach((a) => {
                    let student = document.createElement('div')
                    student.classList.add('coordinator')
                    let studentName = document.createElement('p')
                    studentName.innerText = a.name
                    let studentNo = document.createElement('p')
                    studentNo.innerText = a.mob
                    student.append(studentName)
                    student.append(studentNo)
                    document.getElementById('eCoords').append(student)
                })
            }
            else {
                document.getElementById('eCoord').innerText = ''
            }
            let generalRule = document.createElement('li')
            generalRule.innerText = 'General rules of ASHWAMEDHA ’19 is applicable for this event. '
            let rulesDoc = document.createElement('a')
            rulesDoc.setAttribute('href', '/assets/docs/ashwamedha19rules.pdf')
            rulesDoc.setAttribute('download', 'Ashwamedha19 Rules.pdf')
            rulesDoc.innerText = 'Click here to download the rules.'
            generalRule.append(rulesDoc)
            document.querySelector('#eRules ol').innerHTML = ''
            document.querySelector('#eRules ol').append(generalRule)
            if (e.hasOwnProperty('rules')) {
                e.rules.forEach(r => {
                    if (Array.isArray(r)) {
                        let ruleList = document.createElement('ol')
                        r.forEach(ru => {
                            let rule = document.createElement('li')
                            rule.innerText = ru
                            ruleList.append(rule)
                        })
                        document.querySelector('#eRules ol').append(ruleList)
                    }
                    else {
                        let rule = document.createElement('li')
                        rule.innerText = r
                        document.querySelector('#eRules ol').append(rule)
                    }
                })
            }
            document.getElementById('eventDetails').classList.add('reveal')
            document.querySelector('html').classList.add('noScroll')
            document.querySelector('body').classList.add('noScroll')
        }

        let close = () => {
            document.getElementById('eventDetails').classList.remove('reveal')
            document.querySelector('html').classList.remove('noScroll')
            document.querySelector('body').classList.remove('noScroll')
        }

        let displayEvents = () => {
            fetch('/assets/data/events.json').then(response => {
                return response.json()
            }).then(data => {
                eventsList = data
                document.getElementById('eventsCount').innerText = eventsList.events.length
                eventsList.events.forEach(e => {
                    let h2 = document.createElement('h2')
                    h2.classList.add('h3', 'anim', 'animOpacity')
                    h2.addEventListener('click', e => {
                        reveal(e)
                    })
                    h2.innerText = e.name
                    document.getElementById('eventsList').append(h2)
                })
            })
        }

        let title = () => {
            let intrvl = setInterval(() => {
                let n = 0
                if ((n = document.querySelectorAll('#rise p span:not(.reveal)').length) > 0) {
                    document.querySelectorAll('#rise p span:not(.reveal)')[Math.floor(Math.random() * n)].classList.add('reveal')
                }
                else {
                    clearInterval(intrvl)
                }
            }, 100)
        }

        animate()
        window.onscroll = animate
        window.onresize = animate
        title()
        displayEvents()
        document.getElementById('close').addEventListener('click', () => {
            close()
        })
    </script>
</body>

</html>